<html>
<head>
<title>Заполните форму</title>
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.1/css/font-awesome.min.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <style type="text/css">
    #result1{
        {#height: 500px;#}
        {#width: 1000px;#}
        background-color: white;
        box-shadow: 0 0 10px 0 #bbb;
        margin-bottom: 30px;
        font-size: 14px;
        line-height: 25px;
    }
</style>
</head>
<body>
  <h1 align="center">
      <span style="color: #ff7e00">Заполните данные о состоянии ребенка </span>
      <br>
      <span style="font-size: 15px;color: black; font-weight: lighter;"></span>
  </h1>
  <center><h2>Введите данные вручную или же используйте голосовой ввод</h2></center></br>

  <div id="result1" align="center">
      <br>
        <form action = "http://localhost:5000/result" method = "POST">
            <br>
            <code id="result">Запись ...</code>
            <button type="button" class="btn btn-warning" id="toggle">Ввести данные голосом</button>
            <br>
            <label style="font-size: 15px; color: black">ПП<input type="number" class="form-control" size="40" maxlength=100 name = "pp" /></label>
            <br>
            <label style="font-size: 15px; color: black">ФИО<input type="text" class="form-control" size="40" maxlength=100 name = "fio" /></label>
            <br>
            <label style="font-size: 15px; color: black">Пол<input type="text" class="form-control" size="40" maxlength=100 name = "pol" /></label>
            <br>
            <label style="font-size: 15px; color: black">Дата рождения<input type="text" class="form-control" size="40" maxlength=100 name = "data_r" /></label>
            <br>
            <label style="font-size: 15px; color: black">Дата осмотра<input type="text" class="form-control" size="40" maxlength=100 name = "data_osmotra" /></label>
            <br>
            <label style="font-size: 15px; color: black">Длина тела, см<input type="text" class="form-control" size="40" maxlength=100 name = "dlina_tela" /></label>
            <br>
            <label style="font-size: 15px; color: black">Масса тела, кг<input type="text" class="form-control" size="40" maxlength=100 name = "massa_tela" /></label>
            <br>
            <label style="font-size: 15px; color: black">Окружность грудной клетки, см<input type="text" class="form-control" size="40" maxlength=100 name = "okruznost_grudnoi_kletki" /></label>
            <br>
            <label style="font-size: 15px; color: black">Окружность талии, см<input type="text" class="form-control" size="40" maxlength=100 name = "okruznost_talii" /></label>
            <br>
            <label style="font-size: 15px; color: black">Окружность правого плеча, см<input type="text" class="form-control" size="40" maxlength=100 name = "okruznost_pravogo_plecha" /></label>
            <br>
            <label style="font-size: 15px; color: black">Окружность левого плеча, см<input type="text" class="form-control" size="40" maxlength=100 name = "okruznost_levogo_plecha" /></label>
            <br>
            <label style="font-size: 15px; color: black">Окружность бедер, см<input type="text" class="form-control" size="40" maxlength=100 name = "okruznost_beder" /></label>
            <br>
            <label style="font-size: 15px; color: black">Окружность шеи, см<input type="text" class="form-control" size="40" maxlength=100 name = "okruznost_shei" /></label>
            <br>
            <label style="font-size: 15px; color: black">Окружность запястья, см<input type="text" class="form-control" size="40" maxlength=100 name = "okruznost_zapastya" /></label>
            <br>
            <label style="font-size: 15px; color: black">Жизненная емкость легких, л<input type="text" class="form-control" size="40" maxlength=100 name = "zhiznennaya_emkost_legk" /></label>
            <br>
            <label style="font-size: 15px; color: black">Динамометрия правой кисти, кг<input type="text" class="form-control" size="40" maxlength=100 name = "dinamometriya_pravoy_kisti" /></label>
            <br>
            <label style="font-size: 15px; color: black">Динамометрия левой кисти, кг<input type="text" class="form-control" size="40" maxlength=100 name = "dinamometriya_levoy_kisti" /></label>
            <br>
            <label style="font-size: 15px; color: black">Сист.артериальное давление, мм рт.ст.<input type="text" class="form-control" size="40" maxlength=100 name = "sist_arter_davlenie" /></label>
            <br>
             <label style="font-size: 15px; color: black">Диаст.артериальное давление, мм рт.ст.<input type="text" class="form-control" size="40" maxlength=100 name = "dist_arter_davlenie" /></label>
            <br>
             <label style="font-size: 15px; color: black">Частота сердечных сокращений<input type="text" class="form-control" size="40" maxlength=100 name = "chastota_serd_sokr" /></label>
            <br>
            <label style="font-size: 15px; color: black">Толщина жировой складки (живот), см<input type="text" class="form-control" size="40" maxlength=100 name = "tolshina_zhirovoy_skladki_zhivot" /></label>
            <br>
            <label style="font-size: 15px; color: black">Толщина жировой складки (плечо), см<input type="text" class="form-control" size="40" maxlength=100 name = "tolshina_zhirovoy_skladki_plecho" /></label>
            <br>
            <label style="font-size: 15px; color: black">Толщина жировой складки (спина), см<input type="text" class="form-control" size="40" maxlength=100 name = "tolshina_zhirovoy_skladki_spina" /></label>
            <br>
            <label style="font-size: 15px; color: black">Тип телосложения<input type="text" class="form-control" size="40" maxlength=100 name = "tip_teloslozheniya" /></label>
            <br>
            <p><input type = "submit" class="btn btn-warning" value = "Отравить данные" /></p>

        </form>

    <script type="text/javascript">
		function init() {
          window.SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
          if (('SpeechRecognition' in window || 'webkitSpeechRecognition' in window)) {
            let speech = {
              enabled: true,
              listening: false,
              recognition: new window.SpeechRecognition(),
              text: ''
            }
            speech.recognition.continuous = true;
            speech.recognition.interimResults = true;
            speech.recognition.lang = 'ru-RU';
            speech.recognition.addEventListener('result', (event) => {
              const audio = event.results[event.results.length - 1];
              speech.text = audio[0].transcript;
              const tag = document.activeElement.nodeName;
              if (tag === 'INPUT' || tag === 'TEXTAREA') {
                if (audio.isFinal) {
                  document.activeElement.value += speech.text;
                }
              }
              result.innerText = speech.text;
            });

            toggle.addEventListener('click', () => {
              speech.listening = !speech.listening;
              if (speech.listening) {
                toggle.classList.add('listening');
                toggle.innerText = 'Listening ...';
                speech.recognition.start();
              }
              else {
                toggle.classList.remove('listening');
                toggle.innerText = 'Toggle listening';
                speech.recognition.stop();
              }
            })
          }
        }
        init();

      </script>
  </div>


</body>
</html>

